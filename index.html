<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¶æ—ã®æœªæ¥ãƒ‡ã‚¶ã‚¤ãƒ³è¨ˆç®—æ©Ÿ</title>
    <style>
        :root { --main-blue: #6baed6; --soft-green: #a1d99b; --warn-orange: #fdae6b; --mom-pink: #f781bf; --bg-gray: #f8f9fa; }
        body { font-family: "Helvetica Neue", Arial, "Hiragino Sans", sans-serif; background-color: var(--bg-gray); color: #444; margin: 0; padding: 10px; }
        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 25px; overflow: hidden; box-shadow: 0 8px 30px rgba(0,0,0,0.05); }
        .header { background: linear-gradient(135deg, var(--main-blue), var(--soft-green)); color: white; padding: 30px 20px; text-align: center; }
        .header h1 { margin: 0; font-size: 1.4rem; }
        .content { padding: 25px; }
        
        .input-group { margin-bottom: 20px; }
        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.85rem; color: #555; }
        input, select { width: 100%; padding: 12px; border: 2px solid #edf2f7; border-radius: 10px; font-size: 1rem; box-sizing: border-box; }
        
        .calc-btn { width: 100%; padding: 20px; background: var(--main-blue); color: white; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .calc-btn:hover { background: #4a90e2; transform: translateY(-2px); }

        .result-area { display: none; margin-top: 30px; animation: slideUp 0.5s ease-out; }
        
        /* æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ« */
        .comp-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 0.9rem; }
        .comp-table th, .comp-table td { border: 1px solid #eee; padding: 12px; text-align: center; }
        .comp-table th { background: #f9f9f9; }
        .total-row { background: var(--light-blue); font-weight: bold; background: #eef7ff; }

        .diff-banner { background: #fff4e5; border: 1px solid #fbd38d; border-radius: 12px; padding: 15px; text-align: center; margin-bottom: 25px; font-weight: bold; color: #c05621; font-size: 1.1rem; }

        .card { background: #fff; border: 1px solid #eee; border-radius: 15px; padding: 20px; margin-bottom: 20px; }
        .card-blue { border-left: 6px solid var(--main-blue); background: #f0f7ff; }
        .card-pink { border-left: 6px solid var(--mom-pink); background: #fff5f8; }
        
        /* ä¸‹ç·šéƒ¨ã®æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¤§ããä¿®æ­£ */
        .value { font-size: 1.5rem; font-weight: bold; color: #2c3e50; border-bottom: 3px solid var(--warn-orange); padding: 0 5px; }
        
        .small-text { font-size: 0.85rem; color: #666; line-height: 1.6; margin-top: 10px; }
        .edu-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.8rem; }
        .edu-table td, .edu-table th { border-bottom: 1px solid #eee; padding: 8px; text-align: left; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>å®¶æ—ã®æœªæ¥ãƒ‡ã‚¶ã‚¤ãƒ³è¨ˆç®—æ©Ÿ</h1>
        <p>ã€œ ã²ã¨ã‚Šã‚ˆã‚Šã€ãµãŸã‚Šã€‚ã‚‚ã£ã¨è‡ªç”±ã§å®‰å¿ƒãªæš®ã‚‰ã—ã¸ ã€œ</p>
    </div>

    <div class="content">
        <div class="input-group">
            <label>ğŸ  ãƒ‘ãƒ‘ã®ä»Šã®æœˆåï¼ˆé¡é¢/ä¸‡å††ï¼‰</label>
            <input type="number" id="dadInc" value="30">
        </div>
        
        <div class="input-row">
            <div>
                <label>ğŸ‘© ãƒãƒã®ä»Šã®æœˆå</label>
                <input type="number" id="momNow" value="5">
            </div>
            <div>
                <label>âœ¨ ãƒãƒã®ç›®æ¨™æœˆå</label>
                <input type="number" id="momTarget" value="16">
            </div>
        </div>

        <div class="input-row">
            <div>
                <label>ğŸ‘¦ ãŠå­æ§˜ã®äººæ•°</label>
                <input type="number" id="kids" value="1">
            </div>
            <div>
                <label>ğŸ« æ–½è¨­ã®é¸æŠ</label>
                <select id="facility">
                    <option value="hoiku">ä¿è‚²åœ’</option>
                    <option value="yochien">å¹¼ç¨šåœ’</option>
                </select>
            </div>
        </div>

        <button class="calc-btn" onclick="runCalc()">ãµãŸã‚Šã®å¯èƒ½æ€§ã‚’è¨ˆç®—ã™ã‚‹</button>

        <div id="result" class="result-area">
            
            <div class="card">
                <strong>ğŸ“Š ä¸–å¸¯å¹´åã®æ¯”è¼ƒï¼ˆå¹´é–“ï¼‰</strong>
                <table class="comp-table">
                    <tr><th>é …ç›®</th><th>æ‰¶é¤Šå†…ï¼ˆç¾çŠ¶ï¼‰</th><th>æ‰¶é¤Šå¤–ï¼ˆæœªæ¥ï¼‰</th></tr>
                    <tr><td>ãƒ‘ãƒ‘æ‰‹å–ã‚Š</td><td>ç´„ <span id="tabDadBase"></span> ä¸‡</td><td>ç´„ <span id="tabDadOut"></span> ä¸‡</td></tr>
                    <tr><td>ãƒãƒæ‰‹å–ã‚Š</td><td>ç´„ <span id="tabMomBase"></span> ä¸‡</td><td>ç´„ <span id="tabMomOut"></span> ä¸‡</td></tr>
                    <tr class="total-row"><td>ä¸–å¸¯åˆè¨ˆ</td><td>ç´„ <span id="tabTotalBase"></span> ä¸‡</td><td>ç´„ <span id="tabTotalOut"></span> ä¸‡</td></tr>
                </table>
                <div class="diff-banner">å¹´é–“ã§ ç´„ <span id="resDiff"></span> ä¸‡å†† ã®ã‚†ã¨ã‚ŠãŒç”Ÿã¾ã‚Œã¾ã™ï¼</div>
            </div>

            <div class="card card-blue">
                <strong>ğŸ‘¨ ãƒ‘ãƒ‘ã¸ï¼šåå…¥ã¯ã€Œåˆ†æ•£ã€ãŒä¸€ç•ªã®å®‰å¿ƒ</strong>
                <p>ãƒãƒãŒç¤¾ä¼šä¿é™ºã«å…¥ã£ã¦åƒãã¨ã€ä»Šã‚ˆã‚Šå®¶è¨ˆã®ã€Œã‚†ã¨ã‚Šã€ã¯å¹´é–“ã§ç´„ <span class="value" id="resYearlyPlus"></span> ä¸‡å††å¢—ãˆã¾ã™ã€‚</p>
                <p class="small-text">
                    ã“ã‚Œã¯ã€ãŠå­æ§˜ã®å¤§å­¦è²»ç”¨ï¼ˆç§ç«‹æ–‡ç³» ç´„400ä¸‡å††ï¼‰ã‚’ç´„ <span id="resYearsToSave" style="font-weight:bold;"></span> å¹´ã§æº–å‚™ã§ãã‚‹è¨ˆç®—ã§ã™ã€‚
                    ãƒ‘ãƒ‘ä¸€äººã®è‚©ã®è·ã‚’ã€ãµãŸã‚Šã§åˆ†ã‹ã¡åˆã„ã¾ã›ã‚“ã‹ï¼Ÿ
                </p>
                <p class="small-text" style="color:#2c3e50; font-weight:bold; border-top:1px solid #d0e0f0; padding-top:10px; margin-top:15px;">
                    â€»ä»Šã®æ™‚ä»£ã€éƒ¨ä¸‹ã‚„å¾Œè¼©ã¯ã€Œå…±åƒãã€ãŒå½“ãŸã‚Šå‰ã€‚å®¶äº‹è‚²å…ã‚’åˆ†æ‹…ã™ã‚‹çµŒé¨“ã¯ã€ãƒ‘ãƒ‘ã®ä»•äº‹ï¼ˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆï¼‰ã«ã‚‚å¿…ãšæ´»ãã¾ã™ï¼
                </p>
            </div>

            <div class="card card-pink">
                <strong>ğŸ‘© ãƒãƒã¸ï¼šåƒãã“ã¨ã¯ã€è‡ªåˆ†ã¸ã®ä¿é™º</strong>
                <p>ã‚‚ã—ã‚‚ã®æ™‚ã€ä»Šã®æœˆåãŒã‚ã‚Œã°ã€å®¶æ—ã®å›ºå®šè²»ã®ç´„ <span class="value" id="resCover"></span> ï¼…ã‚’æ”¯ãˆã‚‰ã‚Œã¾ã™ã€‚</p>
                <p class="small-text">
                    åƒã„ã¦ã„ã‚Œã°ã€å°†æ¥ã®å¹´é‡‘ã‚‚å¢—ãˆã€è‡ªåˆ†è‡ªèº«ã®ã€Œè‡ªç”±ãªãŠé‡‘ã€ã‚‚ç¢ºä¿ã§ãã¾ã™ã€‚
                    å¤±æ¥­ä¿é™ºã‚„è‚²ä¼‘æ‰‹å½“ãªã©ã€å›½ã®åˆ¶åº¦ã¯é ‘å¼µã‚‹ãƒãƒã®å‘³æ–¹ã§ã™ã€‚
                </p>
            </div>

            <div class="card">
                <strong>ğŸ“Š å¿…è¦ã«ãªã‚‹æ•™è‚²è²»ã®ç›®å®‰ï¼ˆ1äººã‚ãŸã‚Šï¼‰</strong>
                <table class="edu-table">
                    <tr><th>æ™‚æœŸ</th><th>å…¬ç«‹</th><th>ç§ç«‹</th></tr>
                    <tr><td>å°å­¦æ ¡(6å¹´)</td><td>ç´„190ä¸‡</td><td>ç´„960ä¸‡</td></tr>
                    <tr><td>ä¸­å­¦æ ¡(3å¹´)</td><td>ç´„150ä¸‡</td><td>ç´„420ä¸‡</td></tr>
                    <tr><td>é«˜æ ¡(3å¹´)</td><td>ç´„150ä¸‡</td><td>ç´„310ä¸‡</td></tr>
                    <tr><td>å¤§å­¦(4å¹´)</td><td>ç´„250ä¸‡</td><td>ç´„400ä¸‡ã€œ</td></tr>
                </table>
                <p class="small-text" id="facilityMemo"></p>
            </div>
        </div>
    </div>
</div>

<script>
function runCalc() {
    const dadInc = parseFloat(document.getElementById('dadInc').value) || 0;
    const momNow = parseFloat(document.getElementById('momNow').value) || 0;
    const momTarget = parseFloat(document.getElementById('momTarget').value) || 0;

    // è©³ç´°è¨ˆç®—ï¼ˆç¾çŠ¶ï¼‰
    const dBase = Math.round(dadInc * 12 * 0.82);
    const mBase = Math.round(momNow * 12 * 0.98);
    const tBase = dBase + mBase;

    // è©³ç´°è¨ˆç®—ï¼ˆæœªæ¥ï¼šãƒ‘ãƒ‘ã‚‚é…å¶è€…æ§é™¤ãŒå¤–ã‚Œã‚‹åˆ†ã‚’è€ƒæ…®ï¼‰
    const dOut = Math.round(dadInc * 12 * 0.80);
    const mOut = Math.round(momTarget * 12 * 0.80);
    const tOut = dOut + mOut;
    
    const diff = tOut - tBase;
    const yearsToSave = diff > 0 ? (400 / diff).toFixed(1) : "---";
    const coverRate = Math.min(Math.round((momTarget * 0.8 / (dadInc * 0.6 || 1)) * 100), 100);

    // ãƒ†ãƒ¼ãƒ–ãƒ«åæ˜ 
    document.getElementById('tabDadBase').innerText = dBase;
    document.getElementById('tabDadOut').innerText = dOut;
    document.getElementById('tabMomBase').innerText = mBase;
    document.getElementById('tabMomOut').innerText = mOut;
    document.getElementById('tabTotalBase').innerText = tBase;
    document.getElementById('tabTotalOut').innerText = tOut;

    // å„æ‰€åæ˜ 
    document.getElementById('resDiff').innerText = diff > 0 ? diff : 0;
    document.getElementById('resYearlyPlus').innerText = diff > 0 ? diff : 0;
    document.getElementById('resYearsToSave').innerText = yearsToSave;
    document.getElementById('resCover').innerText = coverRate;
    
    document.getElementById('facilityMemo').innerText = document.getElementById('facility').value === 'hoiku' ? 
        "ã€ãƒ¡ãƒ¢ã€‘ä¿è‚²åœ’ã¯å‰¯é£Ÿè²»ãŒä¿è‚²æ–™ã«å«ã¾ã‚Œã¾ã™ã€‚" : 
        "ã€ãƒ¡ãƒ¢ã€‘å¹¼ç¨šåœ’ã¯çµ¦é£Ÿè²»ãƒ»ãƒã‚¹ä»£ãªã©ãŒåˆ¥é€”ç™ºç”Ÿã—ã¾ã™ã€‚";

    document.getElementById('result').style.display = 'block';
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}
</script>

</body>
</html>
